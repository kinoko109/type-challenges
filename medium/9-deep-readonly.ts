// q
// https://github.com/type-challenges/type-challenges/blob/main/questions/00009-medium-deep-readonly/README.ja.md

// a
// https://www.typescriptlang.org/play?#code/PQKgUABBCcELQQCIFNkAcICVkEMAmA9gHYA2AnpPHNTZQEZkQCCRALgBbGMBiArhAAoAAjjYAzXgEoIAYkC0coCxfWQCdchUoxkE6AK2QBjVnADWyMgGdZeVGjCUZDiICuYwPKqdqICqGQGsMgDoZA5QyA9QyAEwyAdgyAmgyAngyAZgwhgIsMgJcMgIcMgD8MgP0MyYAQ-4BSDIARDIDODIC6DCGArQxe3v7BgEkMgLGKgAx6gCFugNYMgJD-lYC1UYD+DIBryoBRDIBAOoAUro1hgNEMAAYo6Nj4xOQAPAAqAHxjlYD52oCjEYDqDIB+DGGAQAzuEIDKDCGATVGAMhmA5gyA9gzlgaEdlYCORoDGDFGAIgwjgBYMgM8GgFnaWyigHkGQAGDIBVBg++0AsomAdCVAIAMgCLUwAOpvCAvFAJ0MgCsGQCWDDdAMABgDtDUaAUf1AIGRN0AQgw9HaAbQZAMkM+y2gGkGLbwwD3yoBfgKxgAU0nqADctAKAMWMAjQzJDGVQDVDIAFhmSo2O3yu8MAV4GAMCVlYBquMagERjQBkRvLvoAZBiugFkGPaHSiAaPlABIMgAcGI5jR2scyUVhkNDICAADQgAF4IABvShQAAeAC5A8GoBAcBGAIxRqB0CMAcnYAEsU1GAL5Rsip9hmLNQXOu92egCiIY9hmQeD9kejEFUMw0EHDjabzbUs0YsYgCa73db5AgyYgaczOajLfUo-zE8LZGLEFLUDdHogCwIhAbkzQ0znZDmXqWEGAwAg5k4vBI9bonvMOAAtp6cJYxlWa6w62NKI6-0oM8AHF01YAAJXg6CuQAuj0AWKjRkALH-2FYVg0HMMML2dfR2AAOh0cxcIIZQAHNgGgYAdBwMAQGAOxQAgAB9ZiWNYliTmORpAGaGZJAEmGSpAAwowBTRSYtixMYiBaLsDdPX3Q9e0WM9-SDKBZ17CAAG0AGkIHTIgIFMMgCDELcAF0I0M4yt200yIGQEMfyIPBLCIZAADdkGUCAAH5rK02yIzknsNEWGyljAUsGPEsSIEAMYYMSCMUMVE6L2Kk9NnzQYjWAgGTAwgCsAEdeBwEgABoCurAwcuzCAxGUAhnwnIQZLgHDSpIZAiBI5BzGAXhWHTEhzCzMA8v0d9eobDTKC-aq5iKkqSDmIKR2PL04yWCq5trPBNq22aqsMBbitKlabHkkKvQAJi2yrvzrW6DtM6Ty29OMGxUmMIwEaRfTPa7rvoCNzFYZQ9JIyh9AjL6oDwCM6AIAhOtEKNkBhxMIBIjGhygdgcdxqB0wjMHeGQTGmx0VNQfB7qVyHXNCeMAtkBIEgCHp6NGa7EgIxmwnJxTMqKc7Qnnz5tMixewns2Fodpa5yhc1LPKbs+76rzBiHVwgAAffLxyIXhnwfLyVbenafz2z7KDUtt+1+v0AaB1TgtHccaYh223cYaHReHI8IHhsckZRogZx9uyCabO3R2x-2Y8j-GE67WPGGJ3LlDJkXXbWiAqYnT26ZF7mhzTgyWbZjnMdL6Ny95gP1P53HBbl3HYdx8vxcbtsNMl5cFYZtum0H1clYi17N0tx71fL-si5InX9YDHv3YjI2Tc8sewCi1L2MAQmsQgxWLAGGGQB1hhSvfJLo0AgIgQBjyMAFW9KkAR0VAEhzJCULQjCsPMHD8MIsRMiFFRDmAAO6eUotRKAZ4n6VEANGRIxkKoXQphYA2E8IESIqRciwBzDIwGumYgLoYEQCKIANblzgXGQd-NBGCAHYLIlRGidEgA

// my a
type DeepReadonly<T> = {
  readonly [K in keyof T]: keyof T[K] extends never ? T[K] : DeepReadonly<T[K]>
}

// other a
// keyof T -> ex) keyof string になった場合、stringにはkeyが存在しないためneverとなる。
type DeepReadonly2<T> = keyof T extends never
  ? T
  : { readonly [k in keyof T]: DeepReadonly2<T[k]> };